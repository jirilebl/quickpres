<!doctype html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>quickpres</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']]
  }
};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6%2CscrollIntoView"></script> 
<script id="MathJax-script" async 
 src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-chtml.js"> 
</script> 
<style>
html { scroll-behavior: smooth; }
span.small {font-size:67%;}
span.tiny {font-size:50%;}
span.large {font-size:150%;}
span.huge {font-size:200%; }
span.tt {font-family: Courier, "Courier New", monospace;}
h1 {font-size:180%; font-weight:bold;}
h2 {font-size:120%; font-weight:bold;}
h3 {font-size:100%; font-weight:bold;}
body { 
	font-family: Tex Gyre Pagella, Palatino, URW Palladio L, Palatino Linotype, Palatino LT STD, Book Antiqua, Georgia, serif;
        line-height: 1.5;
	font-size: 180%;
	background-color:#ffffff;
	color:#000000; 
}
a:link {color:#900b09; background-color:transparent; }
a:visited {color:#500805; background-color:transparent; }
@media print {
 a:visited {color:#900b09; background-color:transparent; }
}
a:hover {color:#ff0000; background-color:transparent; }
a:active {color:#ff0000; background-color:transparent; }
.centered {text-align:center;}
h1 {text-align:left;}
h2 {text-align:left;}
h3 {text-align:left;}
.cimage { display:block; max-width: 90%; margin-left: auto; margin-right: auto; }
.chimage { display:block; max-width: 50%; margin-left: auto; margin-right: auto; }
.chhimage { display:block; max-width: 25%; margin-left: auto; margin-right: auto; }
div#thebody {margin-top:20px; margin-left: 5%; margin-right:5%; max-width:1100px;}
h3 {margin-left:-2%;}
h2 {margin-left:-2%;}
h1 {margin-left:-2%;}
p.left {margin-left:-2%;}
p { margin-bottom:0px; margin-top:20px; }
p.noskip { margin-top:0px; }
ul { margin-top:0px; margin-bottom:0px; margin-left:0px; padding-left:1em; list-style:square;}
hr { margin-bottom:20px; margin-top:20px; }
mjx-container { margin:0px !important; }
@media print {
  #endspacediv { display:none; }
  #endspan { display:none; }
}
@media screen {
  #endspacediv { height:6in; }
}
#logo { font-size:40%; color:gray; text-align:right;}
</style>
</head>

<body>
<script>
function doenter() {
  var rect = $("#endspan")[0].getBoundingClientRect();

  if(rect.top <= 0) {
    $elt = $( ".qpcontent:hidden" ).first();
    $elt.fadeIn( 400 );
    $elt[0].scrollIntoView({ behavior: "smooth", block: "start" });
  } else if(rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.8) {
    $elt = $( ".qpcontent:hidden" ).first();
    $elt.fadeIn( 400 );
  } else {
    window.scrollBy({ 
      top: 120, // could be negative value
      left: 0, 
      behavior: 'smooth' 
    });
  }
}
$( document.body ).keydown(function( event ) {
  if (event.key == "A") {
    $( ".qpcontent:hidden" ).fadeIn( 400 );
  } else if (event.key == "B") {
    $( ".qpcontent:visible" ).fadeOut( 200 , function () {
      $("html")[0].scrollIntoView({ behavior: "smooth", block: "start" });
    });
  } else if (event.key == "J") {
    $( ".qpcontent:hidden" ).first().fadeIn( 400 );
  } else if ( event.key == "K" ) {
    $( ".qpcontent:visible" ).last().fadeOut( 200 );
  } else if (event.key == "j") {
    $elt = $( ".qpcontent:hidden" ).first();
    $elt.fadeIn( 400 );
    if ($elt[0].getBoundingClientRect().height > window.innerHeight*0.9) {
      window.scrollTo({
	   top: $elt[0].getBoundingClientRect().top+window.scrollY,
           behavior: "smooth"
      });
    } else {
      window.scrollTo({
	   top: $elt[0].getBoundingClientRect().bottom-window.innerHeight*0.9+window.scrollY,
           behavior: "smooth"
      });
    }
  } else if (event.key == "n" || event.key == "Enter") {
    doenter();
  } else if (event.key == "k" || event.key == "Backspace") {
    $( ".qpcontent:visible" ).last().fadeOut( 200 , function () {
      $elt = $( ".qpcontent:visible" ).last();
      if ($elt.length == 0) {
        $("html")[0].scrollIntoView({ behavior: "smooth", block: "start" });
      } else {
        if ($elt[0].getBoundingClientRect().height > window.innerHeight*0.9) {
          window.scrollTo({
	       top: $elt[0].getBoundingClientRect().top+window.scrollY,
               behavior: "smooth"
          });
        } else {
          window.scrollTo({
	       top: $elt[0].getBoundingClientRect().bottom-window.innerHeight*0.9+window.scrollY,
               behavior: "smooth"
          });
	}
      }
    } );
  } else if ( event.key == "e") {
    $("#endspan")[0].scrollIntoView({ behavior: "smooth", block: "end" });
  }
});
</script>
<div id=thebody>
<h1>quickpres</h1>
<p>
HTML scrolling presentation for math classes, with syntax mildly inspired by Markdown
<p>
Press j, J, n, or Enter to see what comes next (j is best here) ...
<div class="qpcontent" style="display:none;">
<h2>How to use</h2>
<p>
You saw you press j, J, n, or Enter to see what comes next, but there are some differences in scrolling.
<p>
<ul><li>n or Enter will slowly scroll until it finds something to unhide.   If
  there is something to unhide closer to the middle of the page, it unhides it
  without scrolling.  This is one way to go through the presentation,
  especially with long blocks.
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>j will unhide the next thing and also scroll it into view.  This is an
  alternate way to go through the presentation, especially with short blocks.
  Make sure to have blocks that fit on one screen.  The bottom of the new block
  will be scrolled to about 90% of the view port, unless the block is smaller
  than that, in which case it will be scrolled to the top and you'll have to
  scroll through the block manually
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>Backspace or k will hide the last thing and scroll to last block, in the
  same way that j scrolls.
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>J (shift-j) simply unhides the next hidden bit without scrolling.  So you
  can use this in conjunction with the arrow keys or spacebar to scroll.
</ul>
<ul><li>K (shift-k) will hide the last thing without scrolling.
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>e will scroll to the end (the End key scrolls a bit too far).
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>A (shift-a) will show all the blocks (the entire presentation) at once.
</ul>
<ul><li>B (shift-b) will hide all the blocks (You can also hide them by reloading the page).
</ul>
</div>
<div class="qpcontent" style="display:none;">
<h2>Syntax</h2>
<p>
New paragraphs are entered just by leaving an empty line.
<p>
So this is a new paragraph.
But this line is still in the second paragraph, even though we put a
linebreak.  Just not an empty line.
</div>
<div class="qpcontent" style="display:none;">
<p>
This is a new paragraph so there is some empty space.
To simply break lines without any added space, put a backslash
on a separate line:
<p class="noskip">
a) this is good for faking short lists
<p class="noskip">
b) or whatnot.
</div>
<div class="qpcontent" style="display:none;">
<p>
Note that a few special characters have some meaning when starting a line.
But only if the first character on a line.  So you can usually
get around them having a special meaning by adding a space before.
</div>
<div class="qpcontent" style="display:none;">
<h2>Math</h2>
<p>
Math is done with MathJax.  For display math use the double
dollar signs:
$$
\int_0^1 x^2 \, dx
$$
</div>
<div class="qpcontent" style="display:none;">
<p class="noskip">
Or the backslash square bracket notation
<p>
\[
\sum_{n=1}^\infty \frac{1}{n} .
\]
</div>
<div class="qpcontent" style="display:none;">
<p>
We left an empty line for more space.
</div>
<div class="qpcontent" style="display:none;">
<p>
You don't want to start new lines in an equation with *, _, !, #, (, backslash, as those
may have special meaning and this script does not really track if you are in a math
environment or not.)  This is especially true for *.
You can put an empty space in front and it will work:
\[
1
 * 3
\]
</div>
<div class="qpcontent" style="display:none;">
<p>
Or you can do inline math with $x^2$ or \(\sqrt{2}\), that is,
dollar signs or the backslash round bracket.
</div>
<div class="qpcontent" style="display:none;">
<p>
Due to the inline math using the dollar sign you need to escape it with
a slash, \$ (in the presentation you just see a dollar sign),
if you actually want a dollar sign.
Due to this you'll actually need to enter a backslash as
two backslashes: \\.  (But see below about two backslashes on
a separate line)
</div>
<div class="qpcontent" style="display:none;">
<h2>That progressive hidy thingie</h2>
<p>
If you want to hide the next chuck, put a >>> on a separate line.
Probably want to add an empty line, but really it is a new html division,
so it will always include a new paragraph.
So >>> cannot really split up paragraphs or displayed math.  If you want to do that you have to just do separate displayed math.  So you can't split aligned,
etc., but we don't want to get too fancy here.
</div>
<div class="qpcontent" style="display:none;">
<h2>Using HTML</h2>
<p>
You can really just include html: <tt>foo</tt> or <b>foo</b>.
But you probably shouldn't get too crazy.  Links, images, etc.
it should all work.
Though there is a quick way to do centered nice images.
</div>
<div class="qpcontent" style="display:none;">
<h2>Running</h2>
<p>
Easiest is to just stick <tt>quickpres.pl</tt> into the directory where
your content is.  Then run (if on Linux) <tt>./quickpres.pl</tt>,
which will compile <tt>pres.prs</tt> into <tt>pres.html</tt>.
You could also just put it in your path if you want to.
</div>
<div class="qpcontent" style="display:none;">
<p>
You can specify the files by: <tt>./quickpres.pl in.prs out.html</tt>.
</div>
<div class="qpcontent" style="display:none;">
<p>
If you run: <tt>./quickpres.pl file.prs</tt>, the output will be
in file.html (it will replace the extension with html).
</div>
<div class="qpcontent" style="display:none;">
<p>
Adding -A, that is <tt>./quickpres.pl -A in.prs out.html</tt> or
<tt>./quickpres.pl -A</tt> will just show all the
blocks all at once initially.  It is like typing A right after loading
the file.  All the keyboard shortcuts still work so you can type B to hide them.
</div>
<div class="qpcontent" style="display:none;">
<p>
Adding -a, that is <tt>./quickpres.pl -a in.prs out.html</tt> or
<tt>./quickpres.pl -a</tt> will just show all the
blocks all at once and also not include the javascript to show/hide them
or any of the keyboard navigation.
</div>
<div class="qpcontent" style="display:none;">
<h2>Headers</h2>
<p>
Use # for first level headers, ## for second level and ### for third level:
<h1>First</h1>
<h2>Second</h2>
<h3>Third</h3>
<p>
The first first-level heading is used as the title for the HTML page.
</div>
<div class="qpcontent" style="display:none;">
<h2>Bullet lists</h2>
<p>
<ul><li>Bullet lists
</ul>
</div>
<div class="qpcontent" style="display:none;">
<ul><li>are done
</ul>
<ul><li>similar
</ul>
<ul><li>to markdown with stars.
</ul>
<p>
<ul><li>this is a bullet (with some leading vertical space)
</ul>
<p>
<ul><li>Text following a bullet on another line is still
part of the bullet.  If you want a new line that's not
part of the bullet you have the use the backslash
</ul>
<p class="noskip">
This line will be separate.
</div>
<div class="qpcontent" style="display:none;">
<p>
*The star must be followed by a space otherwise it is not a bullet
</div>
<div class="qpcontent" style="display:none;">
<p>
Beware of bullets in the middle of the paragraph
<ul><li>that you did not mean, and you just wanted to input
a star.
</ul>
<p class="noskip">
If you need to add a star you can just add a space
 * this is not a bullet.
</div>
<div class="qpcontent" style="display:none;">
<p>
Stars are also used for italics, see below.
</div>
<div class="qpcontent" style="display:none;">
<h2>Images</h2>
<p>
On a new line add !(img.png) to insert img.png, you can add
alt text with ![alt text](img.png)
<p class="noskip">
<img class="cimage" src="sampleimg.png">
</div>
<div class="qpcontent" style="display:none;">
<p>
And now with alt text:
<p class="noskip">
<img class="cimage" src="sampleimg.png" alt="Alt text">
</div>
<div class="qpcontent" style="display:none;">
<p>
The above takes at most 90% of the textwidth (but does not scale up if
the image is smaller).
This is usually fine, but sometimes you want to restrict the maximum size to a
smaller width.  Using !!(img.png) will restrict to 50% of the text
width and !!!(img.png) will restrict to 25% of the text width.
<p>
<img class="chimage" src="sampleimg.png">
<p>
<img class="chhimage" src="sampleimg.png">
</div>
<div class="qpcontent" style="display:none;">
<h2>Links</h2>
<p>
Quick links can be added on a separate line as (http://link)
<p>
<a href="http://www.google.com">http://www.google.com</a>
<p>
Or if you want to have some text then [text](http://link)
<a href="http://www.google.com">text</a>
Also notice there is less space around this link since we didn't leave an
empty line around it.
</div>
<div class="qpcontent" style="display:none;">
<h2>Horizontal rule</h2>
<p>
Just do --- on an separate line
<hr>
<p>
This is between rules.
<hr>
</div>
<div class="qpcontent" style="display:none;">
<h2>Bold and italic</h2>
<p>
You can use underscores to bold a piece of text, but it must appear on a
separate line (unlike markdown) _this_ doesn't do it, but
<strong>this</strong>
does.  It can be, as you can see in the middle of a paragraph, but it has
to be a separate line.
Other text can come after the second underscore like
<strong>this</strong> as long as there are no more underscores.  This is
useful for putting punctuation after bold, or whenever you don't want
to leave a space right after bold.
</div>
<div class="qpcontent" style="display:none;">
<p>
Similarly you can use stars
<em>to make something italic</em> although you cannot combine italics and bold
like this (though you can just use html then)
</div>
<div class="qpcontent" style="display:none;">
<p>
Make sure to not add a space after the star:
<ul><li>this* is not in italics, it is a bullet.
</ul>
</div>
<div class="qpcontent" style="display:none;">
<p>
And again, to use a leading * in mathematics say, just don't make it the
first character on a line:
\[
3
 *5* \text{ok even if there are two stars on a line}.
\]
</div>
<div class="qpcontent" style="display:none;">
<h2>Empty space</h2>
<p>
You can add a bit of empty space (for perhaps drawing or something) with ___ (three underscores) on an separate line
<div style="height:2in;"></div>
<p>
see ... there's empty space.
</div>
<div class="qpcontent" style="display:none;">
<h2>Centering</h2>
<p>
Putting a line of text inside inverted brackets will center it:
<p class="centered">
this is centered
</div>
<div class="qpcontent" style="display:none;">
<h2>Draft mode</h2>
<p>
If the first line of the file is "!!!DRAFT!!!" (without the quotes of course),
then the -a mode will be turned on.  Useful for editing so that you don't
have to step through the steps, useful if you have some sort of a script to
run quickpres.pl.
</div>
<div class="qpcontent" style="display:none;">
<p>
As I was lazy to keep typing that, it can be replaced by "!-a" instead.
You can also use "!-A" to instead use the -A option, that is show the blocks
but still allow hiding all of them with the keyboard shortcuts.
</div>
<div class="qpcontent" style="display:none;">
<h2>That's it</h2>
<p>
There's always a chunk of empty space added behind the presentation so
that you can scroll your ending to the middle easily.
</div>

<div id="endspacediv"><span id="endspan">&nbsp;</span></div>
<div id="logo">made in quickpres.pl</div>

</div>

</body>
</html>
